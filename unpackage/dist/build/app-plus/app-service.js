(this["webpackJsonp"]=this["webpackJsonp"]||[]).push([["app-service"],{"0d7b":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={data:function(){return{list:[],deviceId:"",serviceId:"",characteristics:"",characteristicId:""}},onLoad:function(){var e=this;uni.openBluetoothAdapter({success:function(t){e.startBluetoothDeviceDiscovery()}})},methods:{onBluetoothDeviceFound:function(){var e=this;uni.onBluetoothDeviceFound((function(t){-1!=t.devices[0].name.indexOf("HM")&&e.list.push(t.devices[0].deviceId)}))},startBluetoothDeviceDiscovery:function(){var t=this;uni.startBluetoothDevicesDiscovery({success:function(e){t.onBluetoothDeviceFound()},fail:function(t){e("log",t,"\u9519\u8bef\u4fe1\u606f"," at pages/index/index.vue:49")}})},stopBluetoothDevicesDiscovery:function(){var t=this;uni.stopBluetoothDevicesDiscovery({success:function(n){t.loading=!1,e("log","\u505c\u6b62\u641c\u7d22\u84dd\u7259\u8bbe\u5907:"+n.errMsg," at pages/index/index.vue:58"),t.getBLEDeviceServices()},fail:function(t){e("log","\u505c\u6b62\u641c\u7d22\u84dd\u7259\u8bbe\u5907\u5931\u8d25\uff0c\u9519\u8bef\u7801\uff1a"+t.errCode," at pages/index/index.vue:62")}})},createBLEConnection:function(t){e("log",t," at pages/index/index.vue:68");var n=this;this.deviceId=t,uni.createBLEConnection({deviceId:this.deviceId,success:function(t){n.stopBluetoothDevicesDiscovery(),e("log",t," at pages/index/index.vue:79"),e("log","\u84dd\u7259\u8fde\u63a5\u6210\u529f"," at pages/index/index.vue:80")},fail:function(t){e("log","\u84dd\u7259\u8fde\u63a5\u5931\u8d25",t," at pages/index/index.vue:82")}})},getBLEDeviceServices:function(){var t=this;e("log","\u83b7\u53d6\u84dd\u7259\u670d\u52a1"+this.deviceId," at pages/index/index.vue:88"),setTimeout((function(){uni.getBLEDeviceServices({deviceId:t.deviceId,success:function(e){e.services.forEach((function(e){-1!=e.uuid.indexOf("0783B03E-8535-B5A0-7140-A304D2495CB7")&&(t.serviceId=e.uuid,t.getBLEDeviceCharacteristics())}))}})}),1500)},getBLEDeviceCharacteristics:function(){var t=this;e("log","\u8fdb\u5165\u7279\u5f81"," at pages/index/index.vue:110"),e("log","\u83b7\u53d6\u84dd\u7259\u670d\u52a1"+this.deviceId+"\u670d\u52a1"+this.serviceId," at pages/index/index.vue:111"),setTimeout((function(){uni.getBLEDeviceCharacteristics({deviceId:t.deviceId,serviceId:t.serviceId,success:function(e){t.characteristics=e.characteristics,e.characteristics.forEach((function(e){-1!=e.uuid.indexOf("0783B03E-8535-B5A0-7140-A304D2495CB8")&&t.notifyBLECharacteristicValueChange(e.uuid)}))},fail:function(t){e("log",t," at pages/index/index.vue:141")}})}),1e3)},toget:function(){e("log","\u8fdb\u5165\u54cd\u5e94"," at pages/index/index.vue:147");var t=this;uni.onBLECharacteristicValueChange((function(n){e("log",n," at pages/index/index.vue:150"),e("log",t.ab2hex(n.value)," at pages/index/index.vue:151")})),this.writeBLECharacteristicValue()},notifyBLECharacteristicValueChange:function(t){var n=this;this.characteristicId=t,setTimeout((function(){uni.notifyBLECharacteristicValueChange({state:!0,deviceId:n.deviceId,type:"notification",serviceId:n.serviceId,characteristicId:n.characteristicId,success:function(t){e("log",t," at pages/index/index.vue:168")},fail:function(t){e("log",t," at pages/index/index.vue:172")}})}),1500)},ab2hex:function(e){var t=Array.prototype.map.call(new Uint8Array(e),(function(e){return("00"+e.toString(16)).slice(-2)}));return t.join("")}}};t.default=n}).call(this,n("0de9")["default"])},"0de9":function(e,t,n){"use strict";function i(e){var t=Object.prototype.toString.call(e);return t.substring(8,t.length-1)}function r(){return"string"===typeof __channelId__&&__channelId__}function o(e,t){switch(i(t)){case"Function":return"function() { [native code] }";default:return t}}function c(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];console[e].apply(console,n)}function u(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var c=t.shift();if(r())return t.push(t.pop().replace("at ","uni-app:///")),console[c].apply(console,t);var u=t.map((function(e){var t=Object.prototype.toString.call(e).toLowerCase();if("[object object]"===t||"[object array]"===t)try{e="---BEGIN:JSON---"+JSON.stringify(e,o)+"---END:JSON---"}catch(r){e=t}else if(null===e)e="---NULL---";else if(void 0===e)e="---UNDEFINED---";else{var n=i(e).toUpperCase();e="NUMBER"===n||"BOOLEAN"===n?"---BEGIN:"+n+"---"+e+"---END:"+n+"---":String(e)}return e})),a="";if(u.length>1){var s=u.pop();a=u.join("---COMMA---"),0===s.indexOf(" at ")?a+=s:a+="---COMMA---"+s}else a=u[0];console[c](a)}n.r(t),n.d(t,"log",(function(){return c})),n.d(t,"default",(function(){return u}))},"1a0c":function(e,t,n){"use strict";n.r(t);var i=n("d985");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,c,u,a,s=n("f0c5"),f=Object(s["a"])(i["default"],o,c,!1,null,null,null,!1,u,a);t["default"]=f.exports},"520c":function(e,t,n){"undefined"===typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))}),uni.restoreGlobal&&uni.restoreGlobal(weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),__definePage("pages/index/index",(function(){return Vue.extend(n("6143").default)}))},5464:function(e,t,n){"use strict";n.r(t);var i=n("0d7b"),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);t["default"]=r.a},6143:function(e,t,n){"use strict";n.r(t);var i=n("74d0"),r=n("5464");for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var c,u=n("f0c5"),a=Object(u["a"])(r["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],c);t["default"]=a.exports},"74d0":function(e,t,n){"use strict";var i;n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","content"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","text-area"),attrs:{_i:1}},[e._l(e._$s(2,"f",{forItems:e.list}),(function(t,i,r,o){return n("view",{key:e._$s(2,"f",{forIndex:r,key:i})},[n("view",{attrs:{_i:"3-"+o},on:{click:function(n){return e.createBLEConnection(t)}}},[e._v(e._$s("3-"+o,"t0-0",e._s(t)))])])})),n("view",{attrs:{_i:4},on:{click:e.toget}})],2)])},o=[]},"85ac":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={onLaunch:function(){e("log","App Launch"," at App.vue:4")},onShow:function(){e("log","App Show"," at App.vue:7")},onHide:function(){e("log","App Hide"," at App.vue:10")}};t.default=n}).call(this,n("0de9")["default"])},"8bbf":function(e,t){e.exports=Vue},c93b:function(e,t,n){"use strict";n("520c");var i=o(n("8bbf")),r=o(n("1a0c"));function o(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}i.default.config.productionTip=!1,r.default.mpType="app";var s=new i.default(u({},r.default));s.$mount()},d985:function(e,t,n){"use strict";n.r(t);var i=n("85ac"),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);t["default"]=r.a},f0c5:function(e,t,n){"use strict";function i(e,t,n,i,r,o,c,u,a,s){var f,d="function"===typeof e?e.options:e;if(a){d.components||(d.components={});var l=Object.prototype.hasOwnProperty;for(var v in a)l.call(a,v)&&!l.call(d.components,v)&&(d.components[v]=a[v])}if(s&&((s.beforeCreate||(s.beforeCreate=[])).unshift((function(){this[s.__module]=this})),(d.mixins||(d.mixins=[])).push(s)),t&&(d.render=t,d.staticRenderFns=n,d._compiled=!0),i&&(d.functional=!0),o&&(d._scopeId="data-v-"+o),c?(f=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(c)},d._ssrRegister=f):r&&(f=u?function(){r.call(this,this.$root.$options.shadowRoot)}:r),f)if(d.functional){d._injectStyles=f;var p=d.render;d.render=function(e,t){return f.call(t),p(e,t)}}else{var h=d.beforeCreate;d.beforeCreate=h?[].concat(h,f):[f]}return{exports:e,options:d}}n.d(t,"a",(function(){return i}))}},[["c93b","app-config"]]]);